{% for field in form %}
  {% if field.is_hidden %}
    {{ field }}
  {% else %}
    <div class="component-field">
      <label for="{{ field.id_for_label }}">
        {{ field.label }}
        {% if field.field.required or field.field.show_required_hint %}
          <span class="required-asterisk" aria-hidden="true">*</span>
        {% endif %}
      </label>
      {% with field.field.widget.input_type as input_type %}
        {% if input_type == "password" %}
          <div class="password-input">
            {{ field }}
            <button type="button" class="password-toggle" data-password-toggle>Show</button>
          </div>
        {% elif input_type == "date" %}
          <div class="icon-input">
            {{ field }}
            <button type="button" class="end-ico calendar-trigger" aria-label="Choose date" data-date-target="{{ field.id_for_label }}">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" aria-hidden="true">
                <rect x="3" y="5" width="18" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
                <path d="M8 3v4M16 3v4M3 9h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
        {% else %}
          {{ field }}
        {% endif %}
      {% endwith %}
      {% if field.help_text %}
        <p class="component-help">{{ field.help_text }}</p>
      {% endif %}
      {% if field.errors %}
        <div class="component-error">{{ field.errors|join:", " }}</div>
      {% endif %}
    </div>
  {% endif %}
{% endfor %}
