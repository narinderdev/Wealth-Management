{% extends "layout/app_base.html" %}

{% block title %}Limits{% endblock %}

{% block extra_head %}
  {{ block.super }}
  <style>
    .limits-page .card{
      background:#ffffff;
      border:1px solid #e5e7eb;
      border-radius:8px;
      padding:12px 16px;
      max-width:900px;
      margin-bottom:16px;
      box-shadow:0 1px 0 rgba(16,24,40,.04);
    }
    .limits-page .card-title{
      display:flex;
      align-items:center;
      gap:6px;
      font-size:13px;
      font-weight:600;
      color:#1f4fa3;
      margin-bottom:10px;
    }
    .limits-page table{
      width:100%;
      border-collapse:collapse;
      font-size:12px;
    }
    .limits-page thead th{
      text-align:left;
      font-weight:600;
      color:#6b7280;
      padding:8px 4px;
    }
    .limits-page tbody td{
      padding:8px 4px;
      border-top:1px solid #e5e7eb;
      color:#1f2937;
    }
    .limits-page .right{text-align:right;}
  </style>
{% endblock %}

{% block page_content %}
  <div class="limits-page">
    <div class="card">
      <div class="card-title">ðŸ“ˆ Collateral Limits</div>
      <table>
        <thead>
          <tr>
            <th>Division</th>
            <th>Collateral Type</th>
            <th>Collateral Sub-Type</th>
            <th class="right">$ Limit</th>
            <th class="right">% Limit</th>
          </tr>
        </thead>
        <tbody>
          {% for row in limit_rows %}
          <tr>
            <td>{{ row.division }}</td>
            <td>{{ row.collateral_type }}</td>
            <td>{{ row.collateral_sub_type }}</td>
            <td class="right">{{ row.usd_limit }}</td>
            <td class="right">{{ row.pct_limit }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="right">No collateral limits have been configured.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="card">
      <div class="card-title">ðŸ“ˆ Ineligibles</div>
      <table>
        <thead>
          <tr>
            <th>Division</th>
            <th>Collateral Type</th>
            <th>Collateral Sub-Type</th>
          </tr>
        </thead>
        <tbody>
          {% for row in ineligible_rows %}
          <tr>
            <td>{{ row.division }}</td>
            <td>{{ row.collateral_type }}</td>
            <td>{{ row.collateral_sub_type }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="3">No ineligible collateral at this time.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
